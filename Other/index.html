<html><head>
<title>Upload</title>
<script src="http://code.jquery.com/jquery-1.4.2.min.js" type="text/javascript"></script>

<script language="JavaScript" type="text/javascript">
    var fileSize = 0; //檔案大小
    var SizeLimit = 1024;  //上傳上限，單位:byte

    function checkFile() {
        var f = document.getElementById("uploadfile");
        //FOR IE
        if ($.browser.msie) {
            var img = new Image();
            img.onload = checkSize;
            img.src = f.value;
        }
        //FOR Firefox,Chrome
        else {
            fileSize = f.files.item(0).size;
            checkSize();
        }
    }

    //檢查檔案大小
    function checkSize() {
        //FOR IE FIX
        if ($.browser.msie) {
            fileSize = this.fileSize;
        }

        if (fileSize > SizeLimit) {
            Message((fileSize / 1024).toPrecision(4), (SizeLimit / 1024).toPrecision(2));
        } else {
            document.FileForm.submit();
        }
    }

    function Message(file, limit) {
        var msg = "您所選擇的檔案大小為 " + file + " kB\n已超過上傳上限 " + limit + " kB\n不允許上傳！"
        alert(msg);
    } 
</script>
</head>
<body>
　<form action="upload.php" method="post" enctype="multipart/form-data">
　選擇檔案:<input type="file" name="uploadfile" id="file"><br>
　<input type="submit" name="submit" value="上傳檔案">
　</form>
 
 </body></html>
